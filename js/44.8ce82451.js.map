{"version":3,"file":"js/44.8ce82451.js","mappings":"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","sources":["webpack://vue_week7/./src/views/DashboardView.vue","webpack://vue_week7/./src/components/DashboardNavbar.vue","webpack://vue_week7/./src/components/DashboardNavbar.vue?7e81","webpack://vue_week7/./src/views/DashboardView.vue?7280"],"sourcesContent":["<template>\n  <DashboardNavbar></DashboardNavbar>\n  <VLoading :active=\"isLoading\"></VLoading>\n  <router-view v-if=\"checkSuccess\"></router-view>\n</template>\n\n<script>\nimport DashboardNavbar from \"@/components/DashboardNavbar.vue\";\n\nexport default {\n  components: {\n    DashboardNavbar,\n  },\n  data() {\n    return {\n      checkSuccess: false,\n      isLoading: false,\n    };\n  },\n  methods: {\n    checkLogin() {\n      const token = document.cookie.replace(\n        /(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/,\n        \"$1\"\n      );\n      if (token) {\n        this.isLoading = true;\n        this.$http.defaults.headers.common.Authorization = `${token}`;\n        const api = `${process.env.VUE_APP_API}api/user/check`;\n        this.$http\n          .post(api)\n          .then((res) => {\n            // 如果是登入狀態才允許轉到後台產品頁面，取得產品資料\n            // 如果不是登入狀態會跳出警示，並將使用者導回登入頁面\n            this.$httpMessageState(res, \"登入\");\n            this.checkSuccess = true;\n            this.isLoading = false;\n          })\n          .catch((err) => {\n            this.$httpMessageState(err.response, \"錯誤訊息\");\n            this.$router.push(\"/login\");\n          });\n      } else {\n        this.$router.push(\"/login\");\n      }\n    },\n  },\n  mounted() {\n    this.checkLogin();\n  },\n};\n</script>\n","<template>\n  <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n    <div class=\"container-fluid\">\n      <router-link class=\"navbar-brand\" to=\"/admin\">蛋糕坊</router-link>\n      <button\n        class=\"navbar-toggler\"\n        type=\"button\"\n        data-bs-toggle=\"collapse\"\n        data-bs-target=\"#navbarNav\"\n        aria-controls=\"navbarNav\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        >\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n        <ul class=\"navbar-nav\">\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link active\" to=\"/\">返回前台</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/products\"\n              >產品列表</router-link\n            >\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/orders\"\n              >訂單列表</router-link\n            >\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/coupons\"\n              >優惠券</router-link\n            >\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/article\"\n              >貼文列表</router-link\n            >\n          </li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link\" href=\"#\" @click.prevent=\"logout\">登出</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </nav>\n</template>\n\n<script>\nexport default {\n  inject: [\"emitter\"],\n  methods: {\n    logout() {\n      const api = `${process.env.VUE_APP_API}logout`;\n      this.$http\n        .post(api)\n        .then((res) => {\n          this.$httpMessageState(res, \"登出\");\n          document.cookie = \"hexToken=;expires=;\";\n          if (res.data.success) {\n            this.$router.push(\"/products\");\n          }\n        })\n        .catch((err) => {\n          this.$httpMessageState(err.response, \"錯誤訊息\");\n        });\n    },\n  },\n};\n</script>\n","import { render } from \"./DashboardNavbar.vue?vue&type=template&id=0cb53b0e\"\nimport script from \"./DashboardNavbar.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardNavbar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/wendy/Downloads/Vue projects/vue_week7/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DashboardView.vue?vue&type=template&id=d863c318\"\nimport script from \"./DashboardView.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/wendy/Downloads/Vue projects/vue_week7/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createVNode","_component_DashboardNavbar","_component_VLoading","active","$data","_createBlock","_component_router_view","key","class","_createElementVNode","type","id","_createElementBlock","_component_router_link","to","_hoisted_4","href","onClick","$options","inject","methods","logout","api","this","$http","post","then","res","$httpMessageState","document","cookie","data","success","$router","push","catch","err","response","__exports__","components","DashboardNavbar","checkSuccess","isLoading","checkLogin","token","replace","defaults","headers","common","Authorization","mounted","render"],"sourceRoot":""}