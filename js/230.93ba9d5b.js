"use strict";(self["webpackChunkvue_week7"]=self["webpackChunkvue_week7"]||[]).push([[230],{4230:function(t,a,e){e.r(a),e.d(a,{default:function(){return S}});var s=e(6252);function n(t,a,e,n,r,c){const l=(0,s.up)("FrontNavbar"),i=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(l),(0,s.Wm)(i)],64)}var r=e(3577);const c={class:"navbar navbar-expand-lg navbar-light bg-light"},l={class:"container-fluid"},i=(0,s.Uk)("蛋糕坊"),o={class:"collapse navbar-collapse",id:"navbarSupportedContent"},h={class:"navbar-nav me-auto mb-2 mb-lg-0"},u={class:"nav-item"},d=(0,s.Uk)("首頁"),v={class:"nav-item"},p=(0,s.Uk)("產品列表"),g={class:"nav-item"},m=(0,s.Uk)("購物車"),k={class:"nav-item"},b=(0,s.Uk)("Blog"),f={class:"nav-item"},_=(0,s.Uk)("登入後台"),w=(0,s.Uk)(" 查看購物車 "),C={key:0,class:"badge rounded-pill bg-danger"};function W(t,a,e,n,W,L){const U=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("nav",c,[(0,s._)("div",l,[(0,s.Wm)(U,{class:"navbar-brand",to:"/"},{default:(0,s.w5)((()=>[i])),_:1}),(0,s._)("div",o,[(0,s._)("ul",h,[(0,s._)("li",u,[(0,s.Wm)(U,{class:"nav-link",to:"/"},{default:(0,s.w5)((()=>[d])),_:1})]),(0,s._)("li",v,[(0,s.Wm)(U,{class:"nav-link",to:"/products"},{default:(0,s.w5)((()=>[p])),_:1})]),(0,s._)("li",g,[(0,s.Wm)(U,{class:"nav-link",to:"/cart"},{default:(0,s.w5)((()=>[m])),_:1})]),(0,s._)("li",k,[(0,s.Wm)(U,{class:"nav-link",to:"/articles"},{default:(0,s.w5)((()=>[b])),_:1})]),(0,s._)("li",f,[(0,s.Wm)(U,{class:"nav-link",to:"/admin/products"},{default:(0,s.w5)((()=>[_])),_:1})])])]),(0,s.Wm)(U,{class:"btn btn-primary",to:"/cart"},{default:(0,s.w5)((()=>[w,W.cartData.carts.length>0?((0,s.wg)(),(0,s.iD)("span",C,(0,r.zw)(W.cartLength),1)):(0,s.kq)("",!0)])),_:1})])])}var L={inject:["emitter"],data(){return{cartData:{carts:[]},cartLength:0}},methods:{getCart(){const t="https://vue3-course-api.hexschool.io/v2/api/hlin-hexschool/cart";this.$http.get(t).then((t=>{this.cartData=t.data.data})).catch((t=>{this.$httpMessageState(t.response,"錯誤訊息")}))},updateCartLength(){const t="https://vue3-course-api.hexschool.io/v2/api/hlin-hexschool/cart";this.$http.get(t).then((t=>{if(t.data.success){let a=0;this.cartLength=t.data.data.carts.forEach((t=>{a+=t.qty})),this.cartLength=a}})).catch((()=>{this.$httpMessageState("錯誤訊息")}))}},mounted(){this.getCart(),this.updateCartLength(),this.emitter.on("cart-length",(t=>{this.getCart(),this.cartLength=t,this.updateCartLength()}))}},U=e(3744);const D=(0,U.Z)(L,[["render",W]]);var x=D,$={components:{FrontNavbar:x}};const y=(0,U.Z)($,[["render",n]]);var S=y}}]);
//# sourceMappingURL=230.93ba9d5b.js.map